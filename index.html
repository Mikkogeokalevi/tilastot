<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8">
  <title>Tilastogeneraattorit - MK</title>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-LSBHRFCKEP"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-LSBHRFCKEP');
  </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root {
      --bg-color: #1e1e2e; --text-color: #cdd6f4; --card-bg: #313244;
      --border-color: #45475a; --button-bg: #585b70; --button-hover-bg: #6c7086;
      --border-radius: 8px; --spacing-small: 0.5em; --spacing-medium: 1em;
    }
    html, body {
        margin: 0; padding: 0; height: 100%;
        overflow: hidden; font-family: 'Segoe UI', Tahoma, sans-serif;
    }
    body {
        background-color: var(--bg-color); color: var(--text-color);
        display: flex; flex-direction: column;
    }
    header {
        position: fixed; top: 0; left: 0; width: 100%;
        display: flex; justify-content: space-between; align-items: center;
        padding: var(--spacing-small) var(--spacing-medium);
        background-color: var(--card-bg); border-bottom: 2px solid var(--border-color);
        box-shadow: 0 2px 5px rgba(0,0,0,0.2); z-index: 1000;
        box-sizing: border-box;
    }
    .header-left { display: flex; align-items: center; }
    .header-left img { width: 40px; height: 40px; margin-right: var(--spacing-medium); }
    .header-left h1 { font-size: 1.4em; margin: 0; }
    .header-right { display: flex; align-items: center; }
    nav ul { margin: 0; padding: 0; list-style: none; display: flex; }
    nav li { position: relative; }
    nav a, .dropdown-toggle {
        color: var(--text-color); text-decoration: none;
        padding: var(--spacing-small) var(--spacing-medium);
        display: block; border-radius: var(--border-radius);
        background: none; border: none; font-size: 1em; cursor: pointer;
    }
    nav a:hover, .dropdown-toggle:hover { background-color: var(--button-bg); }
    .dropdown-content {
        display: none; position: absolute; top: 100%; right: 0;
        background-color: var(--card-bg); min-width: 250px;
        box-shadow: 0 8px 16px rgba(0,0,0,0.2); z-index: 1;
        border-radius: 0 0 var(--border-radius) var(--border-radius);
        border: 1px solid var(--border-color); border-top: none;
    }
    .dropdown-content a { padding: 12px 16px; width: auto; border-radius: 0; }
    .dropdown-content a.sub-link {
        padding-left: 2.5em;
        font-size: 0.9em;
        position: relative;
    }
    .dropdown-content a.sub-link::before {
        content: '↳';
        position: absolute;
        left: 1.2em;
        top: 50%;
        transform: translateY(-50%);
        color: var(--text-color);
        opacity: 0.7;
    }
    .dropdown:hover .dropdown-content { display: block; }
    #mobile-menu-toggle {
        display: none; background: none; border: none;
        cursor: pointer; padding: 8px; margin-left: auto;
    }
    #mobile-menu-toggle .bar {
        display: block; width: 25px; height: 3px;
        margin: 5px auto; background-color: var(--text-color);
        transition: 0.4s;
    }
    main {
        flex-grow: 1; padding-top: 60px;
        height: 100vh; box-sizing: border-box;
    }
    #contentFrame { width: 100%; height: 100%; border: none; }
    .new-window-icon {
        font-size: 0.8em;
        vertical-align: top;
        margin-left: 4px;
    }
    @media (max-width: 768px) {
        .header-left h1 { font-size: 1.2em; }
        nav {
            display: none; position: absolute; top: 100%;
            left: 0; width: 100%;
            background-color: var(--card-bg);
            border-top: 1px solid var(--border-color);
        }
        nav.active { display: block; }
        nav ul { flex-direction: column; }
        nav ul li { width: 100%; }
        nav ul a { text-align: center; border-bottom: 1px solid var(--border-color); }
        .dropdown-content { position: static; display: none; box-shadow: none; border: none; }
        .dropdown:hover .dropdown-content { display: none; }
        .dropdown.open .dropdown-content { display: block; background-color: var(--button-bg); }
        .dropdown-content a { padding-left: 2em; background-color: var(--button-hover-bg); }
        #mobile-menu-toggle { display: block; }
        .header-right { margin-left: auto; }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-left">
      <img src="mikkokalevi.png" alt="Sivuston logo">
      <h1>MK Työkalut</h1>
    </div>
    <div class="header-right">
      <nav id="main-nav">
        <ul>
          <li><a href="etusivu.html" class="nav-link">Etusivu</a></li>
          <li class="dropdown">
            <a href="javascript:void(0);" class="dropdown-toggle">Omat Työkalut &#9662;</a>
            <div class="dropdown-content">
              <a href="MKkuvakeneraattori.html" class="nav-link">Kuvageneraattori</a>
              <a href="https://mikkogeokalevi.github.io/kuntatarkistin/" class="nav-link">Kuntatarkistin v2.0</a>
              <a href="https://mikkogeokalevi.github.io/kuntatarkistin/kuntalistanteko.html" class="nav-link sub-link">Kuntalistan teko</a>
              <a href="kuntatarkistin.html" class="nav-link">Kuntatarkistin (vanha)</a>
              <a href="tilastot.html" class="nav-link">Tilastokuvat (vanhempi)</a>
            </div>
          </li>
          <li class="dropdown">
            <a href="javascript:void(0);" class="dropdown-toggle">Työkalut & Sivustot &#9662;</a>
            <div class="dropdown-content">
              <a href="https://www.geocaching.com/" class="nav-link" target="_blank">Geocaching.com<span class="new-window-icon">↗</span></a>
              <a href="https://project-gc.com/" class="nav-link" target="_blank">Project-GC<span class="new-window-icon">↗</span></a>
              <a href="https://www.geocache.fi/" class="nav-link">Geocache.fi</a>
              <a href="https://www.geocachingtoolbox.com/" class="nav-link">Geocaching Toolbox</a>
              <a href="https://gcutils.de/" class="nav-link" target="_blank">GCUtils.de<span class="new-window-icon">↗</span></a>
              <a href="https://www.dcode.fr/en" class="nav-link" target="_blank">dCode.fr<span class="new-window-icon">↗</span></a>
              <a href="https://gc.de/gc/reversewherigo/" class="nav-link" target="_blank">Reverse Wherigo Solver<span class="new-window-icon">↗</span></a>
            </div>
          </li>
          <li class="dropdown">
            <a href="javascript:void(0);" class="dropdown-toggle">Kartat &#9662;</a>
            <div class="dropdown-content">
                <a href="https://www.retkikartta.fi/" class="nav-link">Retkikartta.fi</a>
                <a href="https://asiointi.maanmittauslaitos.fi/karttapaikka/" class="nav-link" target="_blank">Karttapaikka (MML)<span class="new-window-icon">↗</span></a>
            </div>
          </li>
        </ul>
      </nav>
      <button id="mobile-menu-toggle">
        <span class="bar"></span><span class="bar"></span><span class="bar"></span>
      </button>
    </div>
  </header>
  <main>
    <iframe id="contentFrame" src="etusivu.html" title="Sivun sisältö"></iframe>
  </main>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const contentFrame = document.getElementById('contentFrame');
        const mainNav = document.getElementById('main-nav');
        const mobileMenuToggle = document.getElementById('mobile-menu-toggle');

        // KORJATTU MOBIILIVALIKON AVAUSLOGIIKKA
        if (mobileMenuToggle) {
            mobileMenuToggle.addEventListener('click', function(event) {
                event.stopPropagation(); // Estää klikkauksen etenemisen
                mainNav.classList.toggle('active');
            });
        }

        document.querySelectorAll('.dropdown-toggle').forEach(toggle => {
            toggle.addEventListener('click', (e) => {
                if (window.innerWidth <= 768 && e.target.parentElement.classList.contains('dropdown')) {
                    e.preventDefault();
                    e.target.parentElement.classList.toggle('open');
                }
            });
        });
        
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                if (this.getAttribute('target') === '_blank') return;
                e.preventDefault();
                const pageUrl = this.getAttribute('href');
                if (pageUrl && pageUrl !== '#') contentFrame.src = pageUrl;
                mainNav.classList.remove('active');
                document.querySelectorAll('.dropdown.open').forEach(d => d.classList.remove('open'));
            });
        });
    });
  </script>
</body>
</html>
